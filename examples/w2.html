<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>W-2 Wage and Tax Statement</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
/* Legacy 1990s-style design */
* { margin:0; padding:0; box-sizing:border-box; }
body { 
  font-family: 'Courier New', Courier, monospace; 
  background: #c0c0c0; 
  color: #000000; 
  line-height:1.4; 
  min-height:100vh; 
}

.container { max-width:900px; margin:0 auto; padding:20px; }
header { 
  background: #ffffff; 
  border: 3px solid #000000; 
  padding:12px; 
  margin-bottom:15px; 
  box-shadow: 4px 4px 0px #808080;
}
.header-content { 
  max-width:900px; 
  margin:0 auto; 
  display:flex; 
  align-items:center; 
  justify-content:space-between; 
  flex-wrap:wrap; 
  gap:10px; 
}
.logo { display:flex; align-items:center; gap:10px; }
.logo-icon { 
  width:40px; 
  height:40px; 
  background: #000000; 
  border: 2px solid #000000; 
  display:flex; 
  align-items:center; 
  justify-content:center; 
  color:#ffffff; 
  font-weight:bold; 
  font-size:16px;
}
.logo-text { display:flex; flex-direction:column; line-height:1.1; }
.logo-text strong { font-size:14px; font-weight:bold; color:#000000; }
.logo-text span { font-size:10px; color:#333333; }
.back-link { 
  font-size:11px; 
  color:#0000ee; 
  text-decoration:underline; 
}
.back-link:hover { color:#551a8b; }

.form-card { 
  background: #ffffff; 
  border: 3px double #000000; 
  padding:25px; 
  box-shadow: 5px 5px 0px #808080;
}
.form-header { 
  margin-bottom:20px; 
  padding-bottom:12px; 
  border-bottom:3px solid #000000; 
}
.form-title { 
  font-size:20px; 
  font-weight:bold; 
  color:#000000; 
  margin-bottom:5px; 
  text-transform:uppercase;
}
.form-subtitle { font-size:11px; color:#333333; }
.tax-year-badge { 
  display:inline-block; 
  padding:4px 10px; 
  background: #000000; 
  color:#ffffff; 
  font-size:11px; 
  font-weight:bold; 
  margin-top:8px; 
  border: 2px solid #000000;
}

.autofill-btn {
  font-family: 'Courier New', Courier, monospace;
  font-size:11px;
  font-weight:bold;
  padding:4px 10px;
  border: 2px outset #808080;
  background: #ffff00;
  color:#000000;
  cursor:pointer;
  text-transform:uppercase;
  margin-left:10px;
  margin-top:8px;
  display:inline-block;
}
.autofill-btn:hover { background: #ffff99; }
.autofill-btn:active { border-style: inset; }

.form-section { margin-bottom:20px; }
.section-title { 
  font-size:13px; 
  font-weight:bold; 
  color:#000000; 
  margin-bottom:12px; 
  padding:5px 10px; 
  background: #c0c0c0; 
  border: 1px solid #000000; 
  text-transform:uppercase;
}
.section-help { 
  font-size:11px; 
  color:#000000; 
  margin-bottom:12px; 
  padding:8px; 
  background: #e0e0e0; 
  border: 2px solid #000000;
}

.form-grid { display:grid; gap:12px; }
.form-grid.cols-2 { grid-template-columns:repeat(auto-fit, minmax(250px, 1fr)); }
.form-grid.cols-3 { grid-template-columns:repeat(auto-fit, minmax(180px, 1fr)); }

.form-group { display:flex; flex-direction:column; gap:4px; }
.form-label { 
  font-size:11px; 
  font-weight:bold; 
  color:#000000; 
  display:flex; 
  align-items:center; 
  gap:4px; 
}
.form-label .required { color:#ff0000; }
.form-label .box-number { 
  display:inline-flex; 
  align-items:center; 
  justify-content:center; 
  width:18px; 
  height:18px; 
  background: #ffffff; 
  color:#000000; 
  border: 2px solid #000000; 
  font-size:10px; 
  font-weight:bold;
}
.form-input, .form-select { 
  font-family: 'Courier New', Courier, monospace; 
  font-size:12px; 
  padding:6px 8px; 
  border: 2px solid #000000; 
  background: #ffffff; 
  color:#000000; 
  width:100%; 
}
.form-input:focus, .form-select:focus { 
  outline:none; 
  background: #ffffcc; 
}
.form-input.error { 
  border-color: #ff0000; 
  background: #ffcccc; 
}
.form-input::placeholder { color:#808080; }
.field-error { font-size:10px; color:#ff0000; display:none; }
.field-error.show { display:block; }
.field-hint { font-size:10px; color:#666666; }

.checkbox-group { display:flex; align-items:center; gap:6px; margin-top:6px; }
.checkbox-group input[type="checkbox"] { width:16px; height:16px; cursor:pointer; }
.checkbox-group label { font-size:11px; color:#000000; cursor:pointer; }

.button-group { display:flex; gap:10px; margin-top:20px; flex-wrap:wrap; justify-content:center; }
.btn { 
  font-family: 'Courier New', Courier, monospace; 
  font-size:13px; 
  font-weight:bold; 
  padding:10px 20px; 
  border: 3px outset #808080; 
  cursor:pointer; 
  display:inline-flex; 
  align-items:center; 
  justify-content:center; 
  gap:6px; 
  text-decoration:none; 
  text-transform:uppercase;
}
.btn-primary { 
  background: #c0c0c0; 
  color:#000000; 
}
.btn-primary:hover { background: #a0a0a0; }
.btn-primary:active { border-style: inset; }
.btn-secondary { 
  background: #e0e0e0; 
  color:#000000; 
}
.btn-secondary:hover { background: #d0d0d0; }
.btn-secondary:active { border-style: inset; }
.btn:disabled { opacity:.5; cursor:not-allowed; }

.alert { 
  padding:10px 12px; 
  margin-bottom:15px; 
  display:flex; 
  align-items:flex-start; 
  gap:8px; 
  border: 2px solid #000000;
}
.alert-warning { 
  background: #ffffe0; 
  color:#000000; 
}
.alert-icon { font-size:14px; }

footer { 
  text-align:center; 
  padding:15px; 
  color:#000000; 
  font-size:10px; 
  border: 2px solid #000000; 
  background: #ffffff;
  margin-top:20px; 
  max-width:900px;
  margin-left:auto;
  margin-right:auto;
}

@media (max-width: 640px) {
  .container { padding:10px; }
  .form-card { padding:15px; }
  .form-grid.cols-2, .form-grid.cols-3 { grid-template-columns:1fr; }
  .button-group { flex-direction:column; }
  .btn { width:100%; }
}
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <div class="logo">
        <div class="logo-icon">W2</div>
        <div class="logo-text">
          <strong>TaxPro Online</strong>
          <span>Tax Document Center</span>
        </div>
      </div>
      <a href="../index.html" class="back-link">‚Üê Back to Examples</a>
    </div>
  </header>

  <div class="container">
    <div class="form-card">
      <div class="form-header">
        <h1 class="form-title">W-2 Wage and Tax Statement</h1>
        <p class="form-subtitle">Enter your W-2 information exactly as it appears on your form</p>
        <div>
          <div class="tax-year-badge">üìÖ Tax Year 2024</div>
          <button type="button" class="autofill-btn" id="autofillBtn">üîß Autofill Sample Data</button>
        </div>
      </div>

      <div class="alert alert-warning">
        <span class="alert-icon">‚ÑπÔ∏è</span>
        <div>
          <strong>Important:</strong> Make sure to enter all information exactly as shown on your W-2 form. This information will be used to calculate your tax return.
        </div>
      </div>

      <form id="w2Form" novalidate>
        <!-- Employer Information -->
        <div class="form-section">
          <h2 class="section-title">Employer Information</h2>
          <div class="form-grid cols-2">
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">b</span>
                Employer Identification Number (EIN) <span class="required">*</span>
              </label>
              <input type="text" id="ein" name="ein" class="form-input" placeholder="12-3456789" pattern="\d{2}-?\d{7}" required />
              <span class="field-hint">Format: 12-3456789</span>
              <span class="field-error">Please enter a valid EIN (XX-XXXXXXX)</span>
            </div>
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">c</span>
                Employer's Name <span class="required">*</span>
              </label>
              <input type="text" id="employerName" name="employerName" class="form-input" placeholder="ABC Corporation" required />
              <span class="field-error">Employer name is required</span>
            </div>
          </div>
          <div class="form-grid cols-2">
            <div class="form-group">
              <label class="form-label">Employer's Address</label>
              <input type="text" id="employerAddress" name="employerAddress" class="form-input" placeholder="123 Business St" />
            </div>
            <div class="form-group">
              <label class="form-label">City</label>
              <input type="text" id="employerCity" name="employerCity" class="form-input" placeholder="New York" />
            </div>
          </div>
          <div class="form-grid cols-3">
            <div class="form-group">
              <label class="form-label">State</label>
              <select id="employerState" name="employerState" class="form-select">
                <option value="">Select State</option>
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MA">Massachusetts</option>
                <option value="MI">Michigan</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia</option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">ZIP Code</label>
              <input type="text" id="employerZip" name="employerZip" class="form-input" placeholder="10001" pattern="\d{5}" />
            </div>
            <div class="form-group">
              <label class="form-label">Control Number</label>
              <input type="text" id="controlNumber" name="controlNumber" class="form-input" placeholder="Optional" />
            </div>
          </div>
        </div>

        <!-- Employee Information -->
        <div class="form-section">
          <h2 class="section-title">Employee Information</h2>
          <div class="form-grid cols-2">
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">a</span>
                Employee Social Security Number <span class="required">*</span>
              </label>
              <input type="text" id="ssn" name="ssn" class="form-input" placeholder="123-45-6789" pattern="\d{3}-?\d{2}-?\d{4}" required />
              <span class="field-hint">Format: 123-45-6789</span>
              <span class="field-error">Please enter a valid SSN (XXX-XX-XXXX)</span>
            </div>
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">e</span>
                Employee Name <span class="required">*</span>
              </label>
              <input type="text" id="employeeName" name="employeeName" class="form-input" placeholder="John Doe" required />
              <span class="field-error">Employee name is required</span>
            </div>
          </div>
          <div class="form-grid cols-2">
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">f</span>
                Employee Address
              </label>
              <input type="text" id="employeeAddress" name="employeeAddress" class="form-input" placeholder="456 Main St, Apt 2B" />
            </div>
            <div class="form-group">
              <label class="form-label">City</label>
              <input type="text" id="employeeCity" name="employeeCity" class="form-input" placeholder="Brooklyn" />
            </div>
          </div>
          <div class="form-grid cols-3">
            <div class="form-group">
              <label class="form-label">State</label>
              <select id="employeeState" name="employeeState" class="form-select">
                <option value="">Select State</option>
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MA">Massachusetts</option>
                <option value="MI">Michigan</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia</option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">ZIP Code</label>
              <input type="text" id="employeeZip" name="employeeZip" class="form-input" placeholder="11201" pattern="\d{5}" />
            </div>
            <div class="form-group"></div>
          </div>
        </div>

        <!-- Wages and Tax Information -->
        <div class="form-section">
          <h2 class="section-title">Wages and Tax Information</h2>
          <p class="section-help">üí° Enter all dollar amounts without commas (e.g., 65000.00)</p>
          <div class="form-grid cols-2">
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">1</span>
                Wages, tips, other compensation <span class="required">*</span>
              </label>
              <input type="number" id="wages" name="wages" class="form-input" placeholder="65000.00" step="0.01" min="0" required />
              <span class="field-error">Please enter a valid amount</span>
            </div>
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">2</span>
                Federal income tax withheld <span class="required">*</span>
              </label>
              <input type="number" id="federalTax" name="federalTax" class="form-input" placeholder="8750.00" step="0.01" min="0" required />
              <span class="field-error">Please enter a valid amount</span>
            </div>
          </div>
          <div class="form-grid cols-2">
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">3</span>
                Social security wages
              </label>
              <input type="number" id="socialSecurityWages" name="socialSecurityWages" class="form-input" placeholder="65000.00" step="0.01" min="0" />
            </div>
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">4</span>
                Social security tax withheld
              </label>
              <input type="number" id="socialSecurityTax" name="socialSecurityTax" class="form-input" placeholder="4030.00" step="0.01" min="0" />
            </div>
          </div>
          <div class="form-grid cols-2">
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">5</span>
                Medicare wages and tips
              </label>
              <input type="number" id="medicareWages" name="medicareWages" class="form-input" placeholder="65000.00" step="0.01" min="0" />
            </div>
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">6</span>
                Medicare tax withheld
              </label>
              <input type="number" id="medicareTax" name="medicareTax" class="form-input" placeholder="942.50" step="0.01" min="0" />
            </div>
          </div>
          <div class="form-grid cols-2">
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">7</span>
                Social security tips
              </label>
              <input type="number" id="socialSecurityTips" name="socialSecurityTips" class="form-input" placeholder="0.00" step="0.01" min="0" />
            </div>
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">8</span>
                Allocated tips
              </label>
              <input type="number" id="allocatedTips" name="allocatedTips" class="form-input" placeholder="0.00" step="0.01" min="0" />
            </div>
          </div>
          <div class="form-grid cols-2">
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">10</span>
                Dependent care benefits
              </label>
              <input type="number" id="dependentCareBenefits" name="dependentCareBenefits" class="form-input" placeholder="0.00" step="0.01" min="0" />
            </div>
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">11</span>
                Nonqualified plans
              </label>
              <input type="number" id="nonqualifiedPlans" name="nonqualifiedPlans" class="form-input" placeholder="0.00" step="0.01" min="0" />
            </div>
          </div>
          <div class="form-grid cols-2">
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">12a</span>
                Code & Amount (Optional)
              </label>
              <input type="text" id="box12aCode" name="box12aCode" class="form-input" placeholder="Code" maxlength="2" style="text-transform:uppercase;" />
            </div>
            <div class="form-group">
              <label class="form-label" style="opacity:0;">Amount</label>
              <input type="number" id="box12aAmount" name="box12aAmount" class="form-input" placeholder="Amount" step="0.01" min="0" />
            </div>
          </div>
          <div class="form-group">
            <div class="checkbox-group">
              <input type="checkbox" id="statutoryEmployee" name="statutoryEmployee" />
              <label for="statutoryEmployee"><span class="box-number">13</span> Statutory employee</label>
            </div>
            <div class="checkbox-group">
              <input type="checkbox" id="retirementPlan" name="retirementPlan" />
              <label for="retirementPlan">Retirement plan</label>
            </div>
            <div class="checkbox-group">
              <input type="checkbox" id="thirdPartySickPay" name="thirdPartySickPay" />
              <label for="thirdPartySickPay">Third-party sick pay</label>
            </div>
          </div>
        </div>

        <!-- State and Local Information -->
        <div class="form-section">
          <h2 class="section-title">State and Local Tax Information</h2>
          <div class="form-grid cols-2">
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">15</span>
                State
              </label>
              <select id="stateForTax" name="stateForTax" class="form-select">
                <option value="">Select State</option>
                <option value="NY">New York</option>
                <option value="CA">California</option>
                <option value="TX">Texas</option>
                <option value="FL">Florida</option>
                <option value="IL">Illinois</option>
                <option value="PA">Pennsylvania</option>
                <option value="OH">Ohio</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">Employer's state ID number</label>
              <input type="text" id="stateEmployerId" name="stateEmployerId" class="form-input" placeholder="Optional" />
            </div>
          </div>
          <div class="form-grid cols-3">
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">16</span>
                State wages, tips, etc.
              </label>
              <input type="number" id="stateWages" name="stateWages" class="form-input" placeholder="65000.00" step="0.01" min="0" />
            </div>
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">17</span>
                State income tax
              </label>
              <input type="number" id="stateIncomeTax" name="stateIncomeTax" class="form-input" placeholder="3250.00" step="0.01" min="0" />
            </div>
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">18</span>
                Local wages, tips, etc.
              </label>
              <input type="number" id="localWages" name="localWages" class="form-input" placeholder="0.00" step="0.01" min="0" />
            </div>
          </div>
          <div class="form-grid cols-2">
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">19</span>
                Local income tax
              </label>
              <input type="number" id="localIncomeTax" name="localIncomeTax" class="form-input" placeholder="0.00" step="0.01" min="0" />
            </div>
            <div class="form-group">
              <label class="form-label">
                <span class="box-number">20</span>
                Locality name
              </label>
              <input type="text" id="localityName" name="localityName" class="form-input" placeholder="Optional" />
            </div>
          </div>
        </div>

        <div class="button-group">
          <button type="submit" class="btn btn-primary">Continue to Summary ‚Üí</button>
          <button type="button" class="btn btn-secondary" id="resetBtn">Clear Form</button>
        </div>
      </form>
    </div>
  </div>

  <footer>
    <p>&copy; 2024 TaxPro Online. For demonstration purposes only. Not for actual tax filing.</p>
  </footer>

  <script src="../theme.js" defer></script>
  <script>
    (function(){
      const form = document.getElementById('w2Form');
      const resetBtn = document.getElementById('resetBtn');
      const autofillBtn = document.getElementById('autofillBtn');

      // Autofill sample data
      autofillBtn.addEventListener('click', function() {
        // Employer Information
        document.getElementById('ein').value = '12-3456789';
        document.getElementById('employerName').value = 'Tech Corporation Inc.';
        document.getElementById('employerAddress').value = '1234 Silicon Valley Blvd';
        document.getElementById('employerCity').value = 'San Francisco';
        document.getElementById('employerState').value = 'CA';
        document.getElementById('employerZip').value = '94102';
        document.getElementById('controlNumber').value = 'W2-2024-001234';
        
        // Employee Information
        document.getElementById('ssn').value = '123-45-6789';
        document.getElementById('employeeName').value = 'Jane Smith';
        document.getElementById('employeeAddress').value = '456 Main Street, Apt 5B';
        document.getElementById('employeeCity').value = 'Oakland';
        document.getElementById('employeeState').value = 'CA';
        document.getElementById('employeeZip').value = '94601';
        
        // Wages and Tax Information
        document.getElementById('wages').value = '85000.00';
        document.getElementById('federalTax').value = '12750.00';
        document.getElementById('socialSecurityWages').value = '85000.00';
        document.getElementById('socialSecurityTax').value = '5270.00';
        document.getElementById('medicareWages').value = '85000.00';
        document.getElementById('medicareTax').value = '1232.50';
        document.getElementById('socialSecurityTips').value = '0.00';
        document.getElementById('allocatedTips').value = '0.00';
        document.getElementById('dependentCare').value = '0.00';
        document.getElementById('nonqualifiedPlans').value = '0.00';
        document.getElementById('box12aCode').value = 'D';
        document.getElementById('box12aAmount').value = '3000.00';
        
        // Checkboxes
        document.getElementById('statutoryEmployee').checked = false;
        document.getElementById('retirementPlan').checked = true;
        document.getElementById('thirdPartySickPay').checked = false;
        
        // State and Local Tax Information
        document.getElementById('state').value = 'CA';
        document.getElementById('stateEmployerId').value = '999-9999-9';
        document.getElementById('stateWages').value = '85000.00';
        document.getElementById('stateIncomeTax').value = '4250.00';
        document.getElementById('localWages').value = '85000.00';
        document.getElementById('localIncomeTax').value = '850.00';
        document.getElementById('localityName').value = 'Oakland';
        
        // Show a brief confirmation
        const originalText = autofillBtn.textContent;
        autofillBtn.textContent = '‚úì FILLED!';
        autofillBtn.style.background = '#90ee90';
        setTimeout(() => {
          autofillBtn.textContent = originalText;
          autofillBtn.style.background = '#ffff00';
        }, 1500);
      });

      // Format EIN input
      const einInput = document.getElementById('ein');
      einInput.addEventListener('input', function(e) {
        let value = e.target.value.replace(/\D/g, '');
        if (value.length > 2) {
          value = value.substring(0, 2) + '-' + value.substring(2, 9);
        }
        e.target.value = value;
      });

      // Format SSN input
      const ssnInput = document.getElementById('ssn');
      ssnInput.addEventListener('input', function(e) {
        let value = e.target.value.replace(/\D/g, '');
        if (value.length > 3 && value.length <= 5) {
          value = value.substring(0, 3) + '-' + value.substring(3);
        } else if (value.length > 5) {
          value = value.substring(0, 3) + '-' + value.substring(3, 5) + '-' + value.substring(5, 9);
        }
        e.target.value = value;
      });

      // Auto-populate dependent fields
      const wagesInput = document.getElementById('wages');
      const ssWagesInput = document.getElementById('socialSecurityWages');
      const medicareWagesInput = document.getElementById('medicareWages');
      const stateWagesInput = document.getElementById('stateWages');

      wagesInput.addEventListener('blur', function() {
        const value = parseFloat(this.value) || 0;
        if (!ssWagesInput.value) ssWagesInput.value = value.toFixed(2);
        if (!medicareWagesInput.value) medicareWagesInput.value = value.toFixed(2);
        if (!stateWagesInput.value) stateWagesInput.value = value.toFixed(2);
      });

      // Validation
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        let isValid = true;
        const requiredFields = form.querySelectorAll('[required]');
        
        requiredFields.forEach(field => {
          const errorSpan = field.parentElement.querySelector('.field-error');
          if (!field.value.trim()) {
            field.classList.add('error');
            if (errorSpan) errorSpan.classList.add('show');
            isValid = false;
          } else {
            field.classList.remove('error');
            if (errorSpan) errorSpan.classList.remove('show');
          }
        });

        // Validate EIN format
        const einValue = einInput.value;
        if (einValue && !/^\d{2}-\d{7}$/.test(einValue)) {
          einInput.classList.add('error');
          einInput.parentElement.querySelector('.field-error').classList.add('show');
          isValid = false;
        }

        // Validate SSN format
        const ssnValue = ssnInput.value;
        if (ssnValue && !/^\d{3}-\d{2}-\d{4}$/.test(ssnValue)) {
          ssnInput.classList.add('error');
          ssnInput.parentElement.querySelector('.field-error').classList.add('show');
          isValid = false;
        }

        if (isValid) {
          // Store form data in sessionStorage
          const formData = new FormData(form);
          const data = {};
          formData.forEach((value, key) => {
            data[key] = value;
          });
          sessionStorage.setItem('w2Data', JSON.stringify(data));
          
          // Redirect to summary
          window.location.href = 'w2summary.html';
        } else {
          // Scroll to first error
          const firstError = form.querySelector('.error');
          if (firstError) {
            firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
            firstError.focus();
          }
        }
      });

      // Clear error on input
      form.querySelectorAll('.form-input, .form-select').forEach(input => {
        input.addEventListener('input', function() {
          this.classList.remove('error');
          const errorSpan = this.parentElement.querySelector('.field-error');
          if (errorSpan) errorSpan.classList.remove('show');
        });
      });

      // Reset form
      resetBtn.addEventListener('click', function() {
        if (confirm('Are you sure you want to clear all fields?')) {
          form.reset();
          form.querySelectorAll('.error').forEach(el => el.classList.remove('error'));
          form.querySelectorAll('.field-error.show').forEach(el => el.classList.remove('show'));
        }
      });
    })();
  </script>
</body>
</html>
