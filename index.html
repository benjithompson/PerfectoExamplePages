<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Component Examples</title>
  <meta name="description" content="Auto-discovered component/example pages." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* ------------------ THEME TOKENS ------------------ */
    :root {
      --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', Arial, sans-serif;
      --color-bg: #f5f7fb;
      --color-bg-alt: #ffffff;
      --color-surface: #ffffff;
      --color-surface-alt: #f0f3f9;
      --color-border: #d7dde7;
      --color-border-strong: #b5c0cf;
      --color-text: #1e2935;
      --color-text-dim: #5a6b80;
      --color-accent: #2563eb;
      --color-accent-hover: #1d4ed8;
      --color-warn: #d97706;
      --shadow-xs: 0 1px 2px rgba(0,0,0,.06), 0 0 0 1px rgba(0,0,0,.03);
      --shadow-sm: 0 2px 4px rgba(0,0,0,.08), 0 1px 2px rgba(0,0,0,.04);
      --shadow-md: 0 6px 18px -4px rgba(0,0,0,.12), 0 3px 6px -2px rgba(0,0,0,.08);
      --radius-xs: 4px;
      --radius-sm: 6px;
      --radius: 12px;
      --radius-lg: 18px;
      --transition: .18s cubic-bezier(.4,0,.2,1);
      color-scheme: light;
    }
    [data-theme="dark"] {
      --color-bg: #0c1626;
      --color-bg-alt: #101d31;
      --color-surface: #162335;
      --color-surface-alt: #1d2e45;
      --color-border: #27384d;
      --color-border-strong: #37516d;
      --color-text: #f1f5fa;
      --color-text-dim: #95a6bd;
      --color-accent: #3b82f6;
      --color-accent-hover: #2563eb;
      --shadow-xs: 0 1px 2px rgba(0,0,0,.6), 0 0 0 1px rgba(255,255,255,.03);
      --shadow-sm: 0 2px 6px -1px rgba(0,0,0,.55), 0 1px 3px -1px rgba(0,0,0,.4);
      --shadow-md: 0 8px 26px -6px rgba(0,0,0,.65), 0 4px 10px -2px rgba(0,0,0,.55);
      color-scheme: dark;
    }

    /* ------------------ GLOBAL RESETS ------------------ */
    *, *::before, *::after { box-sizing: border-box; }
    html { -webkit-text-size-adjust: 100%; }
    body { margin:0; font-family:var(--font-sans); background:var(--color-bg); color:var(--color-text); line-height:1.4; min-height:100vh; display:flex; flex-direction:column; }
    img, svg { display:block; max-width:100%; }

    /* ------------------ LAYOUT ------------------ */
    header.site-header { position:sticky; top:0; z-index:50; backdrop-filter:blur(18px); background:linear-gradient(145deg,var(--color-bg-alt),var(--color-surface) 60%); border-bottom:1px solid var(--color-border); display:flex; flex-wrap:wrap; align-items:center; gap:1rem; padding:.85rem clamp(1rem,3vw,2rem); box-shadow:var(--shadow-xs); }
    .brand { font-weight:600; letter-spacing:.5px; font-size:1rem; display:flex; align-items:center; gap:.55rem; }
    .brand-badge { background:var(--color-accent); color:#fff; font-size:.6rem; padding:.35rem .55rem; border-radius:var(--radius-sm); font-weight:600; letter-spacing:1px; text-transform:uppercase; }

    main { flex:1; width:100%; max-width:1280px; margin:0 auto; padding:1.6rem clamp(1rem,3vw,2.4rem) 3.5rem; display:flex; flex-direction:column; }

    .hero { display:grid; gap:1.2rem; margin-bottom:2rem; }
    .hero h1 { margin:0; font-size:clamp(1.9rem,3.5vw,2.8rem); line-height:1.1; letter-spacing:.5px; font-weight:600; background:linear-gradient(92deg,var(--color-text) 10%, var(--color-accent) 95%); -webkit-background-clip:text; color:transparent; }
    .hero p.lead { margin:0; max-width:780px; font-size:clamp(.95rem,1.2vw,1.05rem); color:var(--color-text-dim); line-height:1.5; }

    .panel { background:linear-gradient(160deg,var(--color-surface),var(--color-surface-alt)); border:1px solid var(--color-border); border-radius:var(--radius-lg); padding:1.2rem 1.25rem 1.5rem; box-shadow:var(--shadow-md); position:relative; overflow:hidden; }
    .panel:before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 85% 15%, rgba(59,130,246,.25), transparent 65%); mix-blend-mode:overlay; opacity:.35; pointer-events:none; }

    /* ------------------ CONTROLS ------------------ */
    .controls { display:flex; flex-wrap:wrap; gap:.65rem; align-items:center; margin-top:.4rem; }
    .controls-group { display:flex; gap:.4rem; background:var(--color-surface-alt); border:1px solid var(--color-border); padding:.4rem; border-radius:var(--radius-sm); }
    button, .btn { font:inherit; cursor:pointer; border:1px solid var(--color-border); background:var(--color-surface-alt); color:var(--color-text-dim); padding:.55rem .85rem; border-radius:var(--radius-sm); display:inline-flex; align-items:center; gap:.45rem; font-size:.75rem; font-weight:600; letter-spacing:.8px; text-transform:uppercase; transition:var(--transition); position:relative; }
    button:hover, .btn:hover { color:var(--color-text); border-color:var(--color-accent); }
    button[aria-pressed="true"], .toggle-active { background:var(--color-accent); color:#fff; border-color:var(--color-accent); }
    button[aria-pressed="true"]:hover { background:var(--color-accent-hover); }

    input[type="search"] { font:inherit; padding:.6rem .85rem; border:1px solid var(--color-border); background:var(--color-bg-alt); color:var(--color-text); border-radius:var(--radius-sm); width:260px; transition:var(--transition); }
    input[type="search"]:focus { outline:none; border-color:var(--color-accent); box-shadow:0 0 0 3px rgba(37,99,235,.25); }

    /* ------------------ EXAMPLES LIST ------------------ */
    .examples-wrapper { margin-top:1.2rem; }
    #examplesList { list-style:none; padding:0; margin:0; display:grid; gap:1rem; grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); }
    #examplesList.list-view { display:block; }
    #examplesList.list-view > li { display:flex; align-items:center; gap:1.1rem; padding:.85rem 1rem; }

  /* Card link styling (entire card clickable) */
  #examplesList > li { list-style:none; padding:0; margin:0; background:none; border:none; }
  #examplesList > li > a.example-card { position:relative; display:flex; flex-direction:column; gap:.55rem; text-decoration:none; color:var(--color-text); font-weight:500; letter-spacing:.35px; font-size:.9rem; background:var(--color-surface); border:1px solid var(--color-border); border-radius:var(--radius); padding:1rem .95rem 1.05rem; box-shadow:var(--shadow-sm); overflow:hidden; transition:var(--transition); }
  /* Force square tiles in grid view (not list view) */
  #examplesList:not(.list-view) > li > a.example-card { aspect-ratio:1/1; height:auto; align-items:flex-start; }
  #examplesList:not(.list-view) > li > a.example-card .filename { margin-top:auto; }
  #examplesList:not(.list-view) > li > a.example-card .example-title { line-height:1.2; }
  #examplesList > li > a.example-card:before { content:""; position:absolute; inset:0; background:linear-gradient(120deg,rgba(37,99,235,.15), transparent 65%); opacity:0; transition:var(--transition); }
  #examplesList > li > a.example-card:hover { border-color:var(--color-accent); transform:translateY(-3px); box-shadow:var(--shadow-md); }
  #examplesList > li > a.example-card:hover:before { opacity:1; }
  #examplesList > li > a.example-card:focus { outline:2px solid var(--color-accent); outline-offset:3px; }
  #examplesList.list-view > li > a.example-card { flex-direction:row; align-items:center; gap:1rem; padding:.85rem 1rem; }
  #examplesList.list-view > li > a.example-card .filename { margin-left:auto; }
  .example-title { display:inline-flex; align-items:center; gap:.5rem; font-weight:600; }

    .filename { font-size:.65rem; text-transform:uppercase; letter-spacing:1px; font-weight:600; padding:.25rem .4rem; background:var(--color-surface-alt); border:1px solid var(--color-border); border-radius:var(--radius-xs); color:var(--color-text-dim); }
    .list-view .filename { margin-left:auto; }
    .badge-new { background:var(--color-accent); color:#fff; font-size:.55rem; font-weight:600; padding:.25rem .45rem; border-radius:20px; letter-spacing:.7px; }

    .empty-state { margin:1.8rem 0 0; padding:1.4rem 1.2rem; border:1px dashed var(--color-border); border-radius:var(--radius); font-size:.9rem; background:var(--color-surface-alt); color:var(--color-text-dim); display:none; }
    .empty-state.show { display:block; }

    footer.site-footer { margin-top:auto; padding:1.4rem clamp(1rem,3vw,2rem); font-size:.7rem; color:var(--color-text-dim); border-top:1px solid var(--color-border); background:linear-gradient(135deg,var(--color-bg-alt),var(--color-surface)); text-align:center; }

    /* ------------------ VIEW MODE DIFFERENCES ------------------ */
    #examplesList.list-view > li { border-radius:var(--radius-sm); }
    #examplesList.list-view > li a.example-link { font-size:.85rem; }

    /* ------------------ UTILITIES ------------------ */
    .sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }
    .fade-in { animation:fade .5s ease; }
    @keyframes fade { from { opacity:0; transform:translateY(4px);} to { opacity:1; transform:translateY(0);} }

    /* ------------------ RESPONSIVE ------------------ */
    @media (max-width:780px){
      header.site-header { gap:.75rem; }
      input[type="search"] { width:100%; order:4; }
      .controls { width:100%; justify-content:space-between; }
      .controls-group { flex:1; justify-content:space-evenly; }
      .hero h1 { font-size:clamp(1.75rem,6vw,2.4rem); }
      #examplesList { grid-template-columns:repeat(auto-fill,minmax(180px,1fr)); }
    }
    @media (max-width:480px){
      #examplesList { grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); }
      .panel { padding:1rem 1rem 1.2rem; }
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="brand" aria-label="Site Brand">
      <span style="display:inline-flex;align-items:center;justify-content:center;width:38px;height:38px;border-radius:14px;background:var(--color-accent);color:#fff;font-weight:600;font-size:.85rem;letter-spacing:.5px;box-shadow:0 0 0 4px rgba(37,99,235,.25);">UI</span>
      <div style="display:flex;flex-direction:column;line-height:1.05;gap:2px;">
        <strong style="font-size:.95rem;">Example Pages</strong>
        <span class="brand-badge">Perfecto</span>
      </div>
    </div>
    <div class="controls">
      <input id="search" type="search" placeholder="Search examples…" aria-label="Search examples" autocomplete="off" />
      <div class="controls-group" role="group" aria-label="View mode">
        <button id="gridBtn" type="button" aria-pressed="true" title="Grid view">🔳 <span class="sr-only">Grid view</span></button>
        <button id="listBtn" type="button" aria-pressed="false" title="List view">📄 <span class="sr-only">List view</span></button>
      </div>
      <button id="themeToggle" type="button" aria-pressed="false" title="Toggle theme">🌗 Theme</button>
  <!-- Rescan removed for static mode -->
    </div>
  </header>
  <main>
    <section class="hero panel fade-in" aria-labelledby="hero-title">
      <h1 id="hero-title">Webpage Examples</h1>
      <p class="lead">A collection of example pages to use for testing Functional Scriptless/AI capabilities.</p>
    </section>

    <section class="examples-wrapper">
      <h2 class="sr-only" id="examples-heading">Examples</h2>
      <ul id="examplesList" aria-labelledby="examples-heading" class="fade-in" aria-live="polite"></ul>
      <div id="emptyState" class="empty-state" role="status" aria-live="polite">No matching examples. Try a different search.</div>
    </section>
  </main>
  <footer class="site-footer">&copy; <span id="year"></span> Examples Directory • Auto-generated list</footer>

  <script src="examples/examples-list.js"></script>
  <script src="./theme.js" defer></script>
  <script>
    (function(){
      const listEl = document.getElementById('examplesList');
      const emptyEl = document.getElementById('emptyState');
      const searchInput = document.getElementById('search');
      const gridBtn = document.getElementById('gridBtn');
  const listBtn = document.getElementById('listBtn');
  // Static mode: no reload button / network fetch
      const yearEl = document.getElementById('year');
      yearEl.textContent = new Date().getFullYear();

      // ================= STATIC EXAMPLES LIST (External Source) =================
      // The array window.EXAMPLES is defined in examples/examples-list.js
      // Each entry: { file: 'page.html', name: 'Display Name' }
      const examples = (window.EXAMPLES || []).map(x => {
        const isExternal = /^(https?:)?\/\//i.test(x.file);
        return { ...x, href: isExternal ? x.file : ('examples/' + x.file), external:isExternal };
      });
      let filtered = examples.slice();

      // Theme handled globally (theme.js)

      /* ------------------ VIEW MODE ------------------ */
      const viewPrefKey = 'examples-view-mode';
      function setViewMode(mode){
        const isList = mode === 'list';
        listEl.classList.toggle('list-view', isList);
        gridBtn.setAttribute('aria-pressed', String(!isList));
        listBtn.setAttribute('aria-pressed', String(isList));
        localStorage.setItem(viewPrefKey, mode);
      }
      gridBtn.addEventListener('click', () => setViewMode('grid'));
      listBtn.addEventListener('click', () => setViewMode('list'));
      const savedView = localStorage.getItem(viewPrefKey);
      if(savedView) setViewMode(savedView);

      // No network discovery: simple static list only.

      function prettifyName(file){
        return file.replace(/\.(html)$/i,'')
                   .replace(/[-_]+/g,' ')
                   .replace(/\b\w/g, c => c.toUpperCase());
      }

      /* ------------------ RENDERING ------------------ */
      function filterAndRender(){
        const q = searchInput.value.trim().toLowerCase();
        filtered = !q ? examples : examples.filter(e => e.name.toLowerCase().includes(q) || e.file.toLowerCase().includes(q));
        render();
      }

      function render(){
        listEl.innerHTML = '';
        if(!filtered.length){
          emptyEl.classList.add('show');
          return;
        }
        emptyEl.classList.remove('show');
        const frag = document.createDocumentFragment();
        filtered.forEach(ex => frag.appendChild(exampleItem(ex)));
        listEl.appendChild(frag);
      }

      function exampleItem(ex){
        const li = document.createElement('li');
        li.className = 'fade-in';
        const safeHref = encodeURI(ex.href);
        const externalAttrs = ex.external ? ' target="_blank" rel="noopener noreferrer" data-external="true"' : '';
        const host = ex.external ? new URL(ex.href, location.href).hostname.replace(/^www\./,'') : '';
        const icon = ex.external ? '🌐' : '🔗';
        li.innerHTML = `<a class="example-card" href="${safeHref}" aria-label="Open ${escapeHtml(ex.name)} example${ex.external?' in new tab':''}"${externalAttrs}>`+
          `<span class="example-title">${icon} ${escapeHtml(ex.name)}${ex.external?` <span style=\"font-size:.55rem;font-weight:600;letter-spacing:.6px;background:var(--color-surface-alt);border:1px solid var(--color-border);padding:.2rem .4rem;border-radius:8px;\">${escapeHtml(host)}<\/span>`:''}</span>`+
          `<span class="filename" aria-label="${ex.external?'URL':'Filename'}">${escapeHtml(ex.file)}</span>`+
        `</a>`;
        return li;
      }

      function escapeHtml(str){
        return String(str).replace(/[&<>"']/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[s]));
      }

      /* ------------------ EVENTS ------------------ */
  searchInput.addEventListener('input', () => filterAndRender());

      // Enter key focusing first result
      searchInput.addEventListener('keydown', e => {
        if(e.key === 'Enter'){
          const first = listEl.querySelector('a.example-card');
          if(first) first.focus();
        }
      });

  // Initial render
  filterAndRender();

      // Utility: document last modified as ms (fallback when building heuristic features)
      document.lastModifiedAsMillis = Date.parse(document.lastModified || new Date().toISOString());
    })();
  </script>
</body>
</html>